(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{882:function(e,t,n){var content=n(912);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("6c765f04",content,!0,{sourceMap:!1})},911:function(e,t,n){"use strict";n(882)},912:function(e,t,n){var o=n(11)(!1);o.push([e.i,"\n.extended-forms .el-select {\r\n  width: 100%;\r\n  margin-bottom: 30px;\n}\n.extended-forms .progress {\r\n  margin-bottom: 30px;\n}\r\n",""]),e.exports=o},934:function(e,t,n){"use strict";n.r(t);n(19);var o,l=n(15),c=(n(726),n(78),n(727)),d=n.n(c),r=(n(728),n(729)),m=n.n(r),h=(n(903),n(905)),v=n.n(h),f=(n(907),n(909)),x=n.n(f),_=(n(8),n(26),n(874)),T={middleware:"authenticated",name:"extended-forms",components:(o={},Object(l.a)(o,x.a.name,x.a),Object(l.a)(o,v.a.name,v.a),Object(l.a)(o,m.a.name,m.a),Object(l.a)(o,d.a.name,d.a),o),data:function(){return{selectedIndexMachine:null,machines:[],dataComplete:[],dateFrom:"",dateTo:""}},mounted:function(){this.$store.dispatch("getDevices")},methods:{descargarExcel:function(){if(""==this.dateFrom||""==this.dateTo||null==this.dateFrom||null==this.dateTo||null==this.selectedIndexMachine)this.$notify({type:"danger",message:"You need to select both dates and machine",icon:"tim-icons icon-alert-circle-exc"});else{var e=this.$store.state.devices[this.selectedIndexMachine],t=this.dateFrom.toLocaleDateString(),n=this.dateTo.toLocaleDateString(),o=this.dateFrom.getTime(),l=this.dateTo.getTime(),c={headers:{token:$nuxt.$store.state.auth.token},params:{dId:e.dId,name:e.name,from:o,to:l}};this.$axios.get("/get-data-reports",c).then((function(o){var data=o.data.data,l="From: "+t+", To: "+n+", "+e.name;data.forEach((function(element){var e=new Date(element.createdTime),t=e.toLocaleDateString(),n=e.toLocaleTimeString();element.createdTime="-"+t+" "+n+"-",delete element.__v,delete element._id,delete element.name,delete element.dId}));var c=_.a.types.csv;Object(_.a)({data:data,fileName:l,exportType:c})})).catch((function(e){console.log(e)}))}}}},C=(n(911),n(2)),component=Object(C.a)(T,(function(){var e=this,t=e._self._c;return t("div",[t("card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("h4",{staticClass:"card-tittle"},[e._v("Report generator")])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("base-input",[t("el-date-picker",{attrs:{type:"date",placeholder:"From date"},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1)],1),e._v(" "),t("div",{staticClass:"col-6"},[t("base-input",[t("el-date-picker",{attrs:{type:"date",placeholder:"To date"},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e._t("label",(function(){return[t("label",[e._v(" Maquina ")])]})),e._v(" "),t("el-select",{staticClass:"select-default",staticStyle:{width:"100%"},attrs:{placeholder:"Select Date"},model:{value:e.selectedIndexMachine,callback:function(t){e.selectedIndexMachine=t},expression:"selectedIndexMachine"}},e._l(e.$store.state.devices,(function(e,n){return t("el-option",{key:n,staticClass:"text-dark",attrs:{value:n,label:e.name}})})),1)],2)]),e._v(" "),t("div",{staticClass:"row"},[t("br"),t("br")]),e._v(" "),t("div",{staticClass:"row pull-right"},[t("div",{staticClass:"col-12"},[t("base-button",{staticClass:"mb-3",attrs:{type:"blue",size:"lg"},on:{click:function(t){return e.descargarExcel()}}},[e._v("Descargar reporte")])],1)])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BaseInput:n(104).default,BaseButton:n(63).default,Card:n(51).default})}}]);